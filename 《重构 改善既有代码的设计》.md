**旧的不变，新的创建，一步切换，旧的再见。**

### 什么是重构

所谓重构（refactoring）是这样一个过程：在不改变 代码外在行为的前提下，对代码做出修改，以改进程序的内部结构，重构就是在代码写好之后改进它的设计

### 第 1 章 重构，第一个示例

#### 1.2

- 差劲的系统是很难修改的，因为很难找到修改点，难以了解做出的修改与现有代码如何协作实现我想要的行 为。如果很难找到修改点，我就很有可能犯错，从而引入 bug
- 如果你要给程序添加一个特性，但发现代码因缺 乏良好的结构而不易于进行更改，那就先重构那个程序， 使其比较容易添加该特性，然后再添加该特性。
- 是需求的变化使重构变得必要。如果一段代码能正常工作，并且不会再被修改，那么完全可以不去重构它。

#### 1.3

- 每当我要进行重构的时候，第一个步骤永远相同：我得确保即将修改的代码拥有一组可靠的测试
- 重构前，先检查自己是否有一套可靠的测试集。这些测试必须有自我检验能力。
- 如果我将这块代码提炼到自己的一个函数里，有哪些变量会离开原本的作用域，不变的作为参数，变化的作为返回值】
- 无论每次重构多么简单，养成重构后即运行测试的习惯非常重要
- 重构技术就是以微小的步伐修改程序。如果你犯下错误，很容易便可发现它。
- 在做任何提炼前，我一般都会先移除局部变量

#### 1.4

- 如果重构引入了性能损耗，先完成重构，再做性能优化

#### 1.6

- 把复杂的代码块分解为更小的单元，与好的命名一样都很重要

#### 1.7

- 编程时，需要遵循营地法则：保证你离开时的代码库一定比来时更健康。

### 第 2 章 重构的原则
